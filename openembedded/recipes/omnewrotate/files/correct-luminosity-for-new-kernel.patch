--- src/omnewrotate.c   (revisione 51)
+++ src/omnewrotate.c   (copia locale)
@@ -273,7 +273,7 @@
        rootWindow = RootWindow(display, screen);
        XRRRotations(display, screen, &r);
 
-       char current_brightness[3] = "63\n";
+       char current_brightness[4] = "255\n";
        char brightness_off[2] = "0\n";
 
 
@@ -317,7 +317,7 @@
               else
               {
                      lseek(get_brightness_file, 0, SEEK_SET);
-                     read(get_brightness_file, &current_brightness, 2);
+                     read(get_brightness_file, &current_brightness, 3);
                      lseek(set_brightness_file, 0, SEEK_SET);
                      write(set_brightness_file, &brightness_off, 2);
               }
@@ -333,7 +333,7 @@
               if(debug) printf("Recovering screen brightness for nifty effect\n");
               usleep(500000);
               lseek(set_brightness_file, 0, SEEK_SET);
-              write(set_brightness_file, &current_brightness, 3);
+              write(set_brightness_file, &current_brightness, 4);
        }
 
 }
